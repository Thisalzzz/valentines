<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thisal ‚ù§Ô∏è Nethmini ‚Äì Valentine's Universe</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        body {
            background: black;
            color: white;
            overflow-x: hidden;
        }
        .stars {
            position: fixed;
            width: 100%;
            height: 100%;
            background: url("https://www.transparenttextures.com/patterns/stardust.png");
            animation: moveStars 200s linear infinite;
            z-index: -1;
        }
        @keyframes moveStars {
            from { background-position: 0 0; }
            to { background-position: -10000px 5000px; }
        }
        section {
            padding: 100px 20px;
            text-align: center;
        }
        .hero h1 {
            font-size: 4rem;
            background: linear-gradient(45deg, #ff4e8d, #ff00cc);
            -webkit-background-clip: text;
            color: transparent;
            text-shadow: 0 0 40px #ff4e8d;
        }
        .btn {
            margin-top: 25px;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            background: #ff4e8d;
            color: white;
            cursor: pointer;
            transition: 0.4s;
            font-weight: 600;
        }
        .btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 25px #ff4e8d;
        }
        .glass {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            padding: 50px 30px;
            border-radius: 25px;
            margin: 60px auto;
            max-width: 1000px;
            width: 90%;
        }

        /* ----- 3D CUBE (unchanged) ----- */
        .cube-container {
            perspective: 1000px;
            margin: auto;
            width: 260px;
            height: 260px;
        }
        .cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            animation: rotate 18s infinite linear;
        }
        .cube img {
            position: absolute;
            width: 260px;
            height: 260px;
            object-fit: cover;
            border-radius: 20px;
            box-shadow: 0 0 25px rgba(255, 78, 141, 0.6);
        }
        .cube img:nth-child(1) { transform: rotateY(0deg) translateZ(130px); }
        .cube img:nth-child(2) { transform: rotateY(90deg) translateZ(130px); }
        .cube img:nth-child(3) { transform: rotateY(180deg) translateZ(130px); }
        .cube img:nth-child(4) { transform: rotateY(-90deg) translateZ(130px); }
        @keyframes rotate {
            from { transform: rotateY(0deg); }
            to   { transform: rotateY(360deg); }
        }
        .cube-container:hover .cube { animation-play-state: paused; }

        /* ----- floating hearts & roses (preserved) ----- */
        .heart {
            position: fixed;
            width: 12px; height: 12px;
            background: #ff3366;
            transform: rotate(45deg);
            animation: float 6s linear infinite;
            z-index: 1;
            opacity: 0.7;
        }
        @keyframes float {
            from { transform: translateY(100vh) rotate(45deg); }
            to { transform: translateY(-10vh) rotate(45deg); }
        }
        .rose {
            position: fixed;
            font-size: 24px;
            animation: roseFall 5s linear infinite;
            z-index: 2;
            pointer-events: none;
        }
        @keyframes roseFall {
            from { transform: translateY(-10vh); }
            to { transform: translateY(100vh); }
        }

        /* ----- game area (unchanged) ----- */
        #gameArea {
            position: relative;
            width: 100%;
            height: 400px;
            background: rgba(255, 255, 255, 0.05);
            overflow: hidden;
            border-radius: 20px;
            margin-top: 20px;
        }
        .fallingHeart {
            position: absolute;
            font-size: 30px;
            cursor: pointer;
            user-select: none;
            filter: drop-shadow(0 0 8px hotpink);
        }
        #scoreBoard { font-size: 1.8rem; margin-top: 20px; }

        /* ----- canvas fireworks (unchanged) ----- */
        canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 9999; }

        .music-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #ff4e8d;
            border: none;
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 10000;
            box-shadow: 0 0 15px #ff4e8d;
        }

        /* ========== NEW STYLES for added sections ========== */
        .nicknames-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            margin: 40px 0;
        }
        .nickname {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(145deg, #ffb6c1, #ff69b4);
            -webkit-background-clip: text;
            color: transparent;
            animation: pulse 2s infinite;
            text-shadow: 0 0 20px #ff1493;
            padding: 0 10px;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); filter: brightness(1.2); }
            100% { transform: scale(1); }
        }

        #valentine-countdown {
            font-size: 2.5rem;
            font-weight: 600;
            background: linear-gradient(45deg, #fbc2eb, #a6c1ee);
            -webkit-background-clip: text;
            color: transparent;
            margin: 20px 0;
        }

        .letter-content {
            background: rgba(255, 220, 240, 0.1);
            border-radius: 30px;
            padding: 40px;
            font-size: 1.3rem;
            line-height: 1.8;
            border: 2px solid #ff99cc;
            box-shadow: 0 0 40px rgba(255, 78, 141, 0.3);
            max-width: 700px;
            margin: 20px auto;
            font-style: italic;
            color: #ffe6f0;
        }
        .typewriter-btn {
            background: #ff80ab;
            border: none;
            color: white;
            padding: 12px 30px;
            border-radius: 40px;
            cursor: pointer;
            margin-top: 20px;
            font-size: 1.2rem;
        }

        .reasons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        .reason-card {
            background: rgba(255, 192, 203, 0.2);
            padding: 25px 10px;
            border-radius: 20px;
            font-size: 1.2rem;
            font-weight: 600;
            backdrop-filter: blur(5px);
            border: 1px solid #ffb6c1;
            transition: 0.3s;
            cursor: pointer;
            color: #ffe4ec;
        }
        .reason-card:hover {
            background: #ff4e8d;
            color: black;
            transform: translateY(-5px);
        }
        .reason-card .hidden-reason {
            display: none;
            margin-top: 15px;
            font-size: 1rem;
            color: #fff0f5;
        }
        .reason-card.revealed .hidden-reason {
            display: block;
        }
        .reason-card.revealed {
            background: #ff2e6b;
        }

        .playlist {
            list-style: none;
            font-size: 1.5rem;
        }
        .playlist li {
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 105, 180, 0.2);
            border-radius: 50px;
            transition: 0.3s;
            cursor: pointer;
        }
        .playlist li:hover {
            background: #ff4e8d;
            letter-spacing: 2px;
        }

        .love-wall {
            background: #1a0010;
            height: 300px;
            border-radius: 40px;
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 8px;
            padding: 15px;
            overflow-y: auto;
            border: 3px dashed #ff4e8d;
            margin-top: 30px;
        }
        .kiss {
            font-size: 24px;
            cursor: pointer;
            transition: 0.2s;
            animation: pop 0.3s;
        }
        .kiss:hover {
            transform: scale(1.3);
        }
        @keyframes pop {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }

        /* floating nicknames extra */
        .float-nickname {
            position: fixed;
            font-size: 28px;
            font-weight: bold;
            color: #ff99cc;
            text-shadow: 0 0 10px red;
            pointer-events: none;
            z-index: 5;
            white-space: nowrap;
            animation: floatSide 12s linear infinite;
        }
        @keyframes floatSide {
            0% { transform: translateX(-10vw) rotate(0deg); opacity: 0.2; }
            50% { opacity: 1; }
            100% { transform: translateX(110vw) rotate(360deg); opacity: 0; }
        }

        hr {
            border: 2px solid #ff4e8d;
            width: 80%;
            margin: 20px auto;
        }
    </style>
</head>
<body>
    <div class="stars"></div>
    <canvas id="fireworks"></canvas>

    <!-- music toggle (preserved) -->
    <button class="music-toggle" id="musicBtn">üîä Play music</button>
    <audio id="music" loop>
        <source src="images/song2.mp3" type="audio/mp3">
        <!-- fallback: if no song, browser shows silent -->
    </audio>

    <!-- original hero section -->
    <section class="hero">
        <h1>Thisal ‚ù§Ô∏è Nethmini</h1>
        <p>Our Love Story Written In The Stars üåå</p>
        <button class="btn" onclick="launchFireworks()">‚ú® Forever Together ‚ú®</button>
    </section>

    <!-- original timer glass -->
    <section class="glass">
        <h2>We Have Been Together For ‚è≥</h2>
        <div id="timer" style="font-size:2rem;"></div>
    </section>

    <!-- original 3D cube -->
    <section class="glass">
        <h2>Our 3D Memory Cube üßä</h2>
        <div class="cube-container">
            <div class="cube">
                <img src="images/1.jpeg" alt="Memory 1" onerror="this.src='https://via.placeholder.com/260/ff4e8d/ffffff?text=‚ù§Ô∏è'">
                <img src="images/2.jpeg" alt="Memory 2" onerror="this.src='https://via.placeholder.com/260/ff80ab/ffffff?text=üåπ'">
                <img src="images/3.jpeg" alt="Memory 3" onerror="this.src='https://via.placeholder.com/260/ffb6c1/000000?text=üíò'">
                <img src="images/5.jpeg" alt="Memory 4" onerror="this.src='https://via.placeholder.com/260/ff99cc/000000?text=ü•∞'">
            </div>
        </div>
        <p style="margin-top:30px">Four sides. Four memories. One love. ‚ù§Ô∏è</p>
    </section>

    <!-- original mini game -->
    <section class="glass">
        <h2>üéÆ Catch 20 Hearts (for my chooti)</h2>
        <div id="gameArea"></div>
        <div id="scoreBoard">Score: 0</div>
    </section>

    <!-- original proposal section -->
    <section class="glass">
        <h2>Will you stay with me forever? üíç</h2>
        <button class="btn" onclick="yesLove()">YES ‚ù§Ô∏è</button>
    </section>

    <!-- ========== NEW VALENTINE / NICKNAME SECTIONS ========== -->
    <!-- Section 1: Nicknames in style -->
    <section class="glass">
        <h2>üíû My private names for my Suduu üíû</h2>
        <div class="nicknames-container">
            <span class="nickname">Chooti</span>
            <span class="nickname">Patiyoo</span>
            <span class="nickname">Baby</span>
            <span class="nickname">Suduu</span>
        </div>
        <p>Every name is a universe of love ‚Äî only for you, Nethmini ‚ù§Ô∏è</p>
    </section>

    <!-- Valentine countdown -->
    <section class="glass">
        <h2>‚è≥Next Valentine's Day countdown ‚è≥</h2>
        <div id="valentine-countdown"></div>
        <p>... and every day with you is Valentine's üíù</p>
    </section>

    <!-- Love letter with typewriter effect -->
    <section class="glass">
        <h2>üíå A letter for my chooti patiyoo üíå</h2>
        <div class="letter-content" id="loveLetterText">
            My dearest Choppiyeee (my Suduu, Baby, Chooti, Patiyoo),<br><br>
            From the moment you came into my life, the stars seemed closer. You are my valentine today and forever. Every heartbeat whispers your name. I love you more than all the galaxies.<br><br>
            Forever yours,<br>
            Your baby ‚ù§Ô∏è
        </div>
        <button class="typewriter-btn" onclick="typewriterEffect()">üíñ Read to me üíñ</button>
    </section>

    <!-- 10 reasons why I love you (interactive) -->
    <section class="glass">
        <h2>‚ú® 10 reasons I fell for you ‚ú®</h2>
        <div class="reasons-grid" id="reasonsGrid"></div>
    </section>

    <!-- Love wall ‚Äì click to leave a kiss -->
    <section class="glass">
        <h2>üíã Leave your kiss on our wall üíã</h2>
        <div class="love-wall" id="loveWall" onclick="addKiss(event)"></div>
        <p style="margin-top:20px">(click anywhere to drop a kiss, my patiyoo)</p>
    </section>

    <!-- extra floating nicknames (will be generated by JS) -->
    <div id="floatNicknameContainer"></div>

    <!-- script section -->
    <script>
        // --- preserved original timer ---
        const startDate = new Date("2023-04-30");
        setInterval(() => {
            let now = new Date();
            let diff = now - startDate;
            let days = Math.floor(diff / (1000 * 60 * 60 * 24));
            document.getElementById("timer").innerHTML = days + " Beautiful Days Together ‚ù§Ô∏è";
        }, 1000);

        // --- original floating hearts (40) ---
        for (let i = 0; i < 40; i++) {
            let h = document.createElement("div");
            h.className = "heart";
            h.style.left = Math.random() * 100 + "vw";
            h.style.animationDuration = (Math.random() * 5 + 5) + "s";
            h.style.background = `hsl(${Math.random() * 20 + 340}, 80%, 70%)`;
            document.body.appendChild(h);
        }

        // --- original mini game ---
        let score = 0;
        const gameArea = document.getElementById("gameArea");
        function createHeart() {
            let heart = document.createElement("div");
            heart.className = "fallingHeart";
            heart.innerHTML = "üíñ";
            heart.style.left = Math.random() * 90 + "%";
            heart.style.top = "-30px";
            gameArea.appendChild(heart);
            let fall = setInterval(() => {
                if (!heart.parentNode) { clearInterval(fall); return; }
                heart.style.top = (heart.offsetTop + 5) + "px";
                if (heart.offsetTop > 380) {
                    heart.remove();
                    clearInterval(fall);
                }
            }, 30);
            heart.onclick = function () {
                score++;
                document.getElementById("scoreBoard").innerHTML = "Score: " + score;
                heart.remove();
                clearInterval(fall);
                if (score >= 20) {
                    alert("You unlocked my heart forever ‚ù§Ô∏è (20 hearts caught!)");
                    launchFireworks();
                    score = 0;
                    document.getElementById("scoreBoard").innerHTML = "Score: 0";
                }
            };
        }
        setInterval(createHeart, 800);

        // --- original fireworks (static burst) ---
        const canvas = document.getElementById("fireworks");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        function launchFireworks() {
            for (let i = 0; i < 200; i++) {
                ctx.fillStyle = `hsl(${Math.random() * 360}, 100%, 70%)`;
                ctx.beginPath();
                ctx.arc(Math.random() * canvas.width, Math.random() * canvas.height, Math.random() * 4 + 1, 0, Math.PI * 2);
                ctx.fill();
            }
            // also clear after 2 secs
            setTimeout(() => ctx.clearRect(0, 0, canvas.width, canvas.height), 800);
        }

        // --- original yesLove (roses + fireworks) ---
        function yesLove() {
            for (let i = 0; i < 50; i++) {
                let rose = document.createElement("div");
                rose.className = "rose";
                rose.innerHTML = "üåπ";
                rose.style.left = Math.random() * 100 + "vw";
                rose.style.animationDuration = (Math.random() * 3 + 3) + "s";
                document.body.appendChild(rose);
                setTimeout(() => rose.remove(), 7000);
            }
            launchFireworks();
            alert("Forever together ‚ù§Ô∏è");
        }

        // --- music toggle preserved ---
        const music = document.getElementById('music');
        const musicBtn = document.getElementById('musicBtn');
        let musicPlaying = false;
        musicBtn.addEventListener('click', () => {
            if (musicPlaying) {
                music.pause();
                musicBtn.innerHTML = 'üîá Music off';
            } else {
                music.play().catch(() => alert("Click again (allow autoplay)"));
                musicBtn.innerHTML = 'üîä Music on';
            }
            musicPlaying = !musicPlaying;
        });
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // ---------- NEW INTERACTIVE FEATURES ----------
        // 1) Valentine countdown
        function updateValentineCountdown() {
            const today = new Date();
            let valentine = new Date(today.getFullYear(), 1, 14); // feb 14
            if (today > valentine) valentine.setFullYear(valentine.getFullYear() + 1);
            const diff = valentine - today;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const mins = Math.floor((diff / (1000 * 60)) % 60);
            const secs = Math.floor((diff / 1000) % 60);
            document.getElementById('valentine-countdown').innerHTML = 
                `${days}d ${hours}h ${mins}m ${secs}s üíï`;
        }
        setInterval(updateValentineCountdown, 1000);

        // 2) Typewriter effect for love letter (simple simulation)
        function typewriterEffect() {
            const letterDiv = document.getElementById('loveLetterText');
            const originalText = letterDiv.innerHTML;
            const plainText = "My dearest Nethmini (my Suduu, Baby, Chooti, Patiyoo),\n\nFrom the moment you came into my life, the stars seemed closer. You are my valentine today and forever. Every heartbeat whispers your name. I love you more than all the galaxies.\n\nForever yours,\nThisal ‚ù§Ô∏è";
            letterDiv.innerHTML = '';
            let i = 0;
            function typing() {
                if (i < plainText.length) {
                    letterDiv.innerHTML += plainText.charAt(i);
                    i++;
                    setTimeout(typing, 30);
                } else {
                    letterDiv.innerHTML = letterDiv.innerHTML.replace(/\n/g, '<br>');
                }
            }
            typing();
        }

        // 3) Generate 10 reasons (interactive cards)
        const reasons = [
            "Your smile lights up my universe", "You're my chooti, my peace", "Your kindness", "The way you say 'Patiyoo'", 
            "Your eyes shine like stars", "You make me laugh", "You understand my silence", "Your crazy dances", 
            "You're my suduu, my dream", "You love me as I am"
        ];
        const grid = document.getElementById('reasonsGrid');
        reasons.forEach((reason, index) => {
            const card = document.createElement('div');
            card.className = 'reason-card';
            card.innerHTML = `<strong>üíò Reason #${index+1}</strong><div class="hidden-reason">${reason}</div>`;
            card.addEventListener('click', () => card.classList.toggle('revealed'));
            grid.appendChild(card);
        });

        // 4) Love wall: add kiss on click
        const wall = document.getElementById('loveWall');
        function addKiss(event) {
            if (event.target === wall || wall.contains(event.target)) {
                const kiss = document.createElement('span');
                kiss.className = 'kiss';
                kiss.innerHTML = ['‚ù§Ô∏è','üíñ','üíò','üíù','üíï','üòò','üíã'][Math.floor(Math.random()*7)];
                kiss.style.position = 'relative';
                kiss.style.left = (event.offsetX - 15) + 'px';
                kiss.style.top = (event.offsetY - 15) + 'px';
                wall.appendChild(kiss);
                kiss.onclick = (e) => { e.stopPropagation(); kiss.remove(); };
            }
        }

        // 5) Floating nicknames (extra love words)
        function createFloatingNickname() {
            const container = document.body;
            const span = document.createElement('span');
            span.className = 'float-nickname';
            const words = ['Chooti ‚ù§Ô∏è', 'Patiyoo üíï', 'Baby üíñ', 'Suduu üíò', 'Nethmini üåπ', 'My Valentine'];
            span.textContent = words[Math.floor(Math.random() * words.length)];
            span.style.top = Math.random() * 100 + 'vh';
            span.style.fontSize = (Math.random() * 20 + 24) + 'px';
            span.style.animationDuration = (Math.random() * 10 + 8) + 's';
            container.appendChild(span);
            setTimeout(() => span.remove(), 15000);
        }
        setInterval(createFloatingNickname, 3000);

        // 6) Playlist interactive effect: show heart on click
        document.querySelectorAll('#playlist li').forEach(li => {
            li.addEventListener('click', function() {
                alert(`üéµ "${this.innerText}" ‚Äì for my chooti patiyoo üíì`);
                launchFireworks(); // little burst
            });
        });

        // Also make nicknames pulse more pronounced
        console.log("All new Valentine features added for Thisal & Nethmini");
    </script>
    <!-- ensure all original functionality still works -->
    <noscript>JavaScript enabled for full experience</noscript>
</body>
</html>